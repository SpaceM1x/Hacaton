import sqlite3

def init_db():
    conn = sqlite3.connect('components.db')
    c = conn.cursor()

    # Drop the existing table if it exists to recreate with the correct schema
    c.execute('DROP TABLE IF EXISTS components')

    # Create the table with the correct column names
    c.execute('''CREATE TABLE components
                 (id INTEGER PRIMARY KEY AUTOINCREMENT,
                  name TEXT,
                  model TEXT NOT NULL,
                  characteristics TEXT,
                  quantity INTEGER NOT NULL,
                  category TEXT)''')

    # Расширенный список компонентов для компьютеров
    components = [
        # Процессоры (CPU)
        ('Intel Core i9-13900K', 'Intel Core i9-13900K', 'Количество ядер: 24, Количество потоков: 32, Базовая частота: 3.0 ГГц, Турбо-частота: до 5.8 ГГц, Кэш-память: 36 МБ', 20, 'Процессор'),
        ('AMD Ryzen 9 7950X', 'AMD Ryzen 9 7950X', 'Количество ядер: 16, Количество потоков: 32, Базовая частота: 4.5 ГГц, Турбо-частота: до 5.7 ГГц, Кэш-память: 64 МБ', 15, 'Процессор'),
        ('Intel Core i7-13700K', 'Intel Core i7-13700K', 'Количество ядер: 16, Количество потоков: 24, Базовая частота: 3.4 ГГц, Турбо-частота: до 5.3 ГГц, Кэш-память: 30 МБ', 25, 'Процессор'),
        ('AMD Ryzen 7 7700X', 'AMD Ryzen 7 7700X', 'Количество ядер: 8, Количество потоков: 16, Базовая частота: 4.5 ГГц, Турбо-частота: до 5.4 ГГц, Кэш-память: 32 МБ', 30, 'Процессор'),
        ('Intel Core i5-13600K', 'Intel Core i5-13600K', 'Количество ядер: 14, Количество потоков: 20, Базовая частота: 3.5 ГГц, Турбо-частота: до 5.1 ГГц, Кэш-память: 24 МБ', 40, 'Процессор'),

        # Материнские платы
        ('ASUS ROG Strix Z790-E Gaming', 'ASUS ROG Strix Z790-E Gaming', 'Сокет: LGA 1700, Формфактор: ATX, Чипсет: Intel Z790, Поддержка: PCIe 5.0, Wi-Fi 6E', 15, 'Материнская плата'),
        ('MSI MAG B650 Tomahawk WiFi', 'MSI MAG B650 Tomahawk WiFi', 'Сокет: AM5, Формфактор: ATX, Чипсет: AMD B650, Поддержка: PCIe 5.0, Wi-Fi 6E', 20, 'Материнская плата'),
        ('Gigabyte Z690 AORUS Master', 'Gigabyte Z690 AORUS Master', 'Сокет: LGA 1700, Формфактор: ATX, Чипсет: Intel Z690, Поддержка: PCIe 5.0, Встроенный Wi-Fi', 18, 'Материнская плата'),
        ('ASUS ProArt X670E-CREATOR WIFI', 'ASUS ProArt X670E-CREATOR WIFI', 'Сокет: AM5, Формфактор: ATX, Чипсет: AMD X670E, Поддержка: PCIe 5.0, Wi-Fi 6E', 12, 'Материнская плата'),
        ('ASRock Z790 PG Riptide', 'ASRock Z790 PG Riptide', 'Сокет: LGA 1700, Формфактор: ATX, Чипсет: Intel Z790, Поддержка: PCIe 5.0', 22, 'Материнская плата'),

        # Оперативная память
        ('Corsair Vengeance RGB Pro SL 32GB', 'CMH32GX4M2D3600C18', 'Объем: 32 ГБ (2x16 ГБ), Тип: DDR4, Частота: 3600 МГц, Латентность: CL18', 50, 'Оперативная память'),
        ('G.Skill Trident Z5 RGB 64GB', 'F5-6000J3238F16GX2-TZ5RK', 'Объем: 64 ГБ (2x32 ГБ), Тип: DDR5, Частота: 6000 МГц, Латентность: CL38', 25, 'Оперативная память'),
        ('Crucial Ballistix RGB 16GB', 'BL2K8G36C16U4RL', 'Объем: 16 ГБ (2x8 ГБ), Тип: DDR4, Частота: 3600 МГц, Латентность: CL16', 45, 'Оперативная память'),
        ('Kingston FURY Beast RGB 32GB', 'KF436C18BBAK2/32', 'Объем: 32 ГБ (2x16 ГБ), Тип: DDR4, Частота: 3600 МГц, Латентность: CL18', 35, 'Оперативная память'),
        ('Team T-Force Delta RGB 32GB', 'TF4D432G3600HC18JDC01', 'Объем: 32 ГБ (2x16 ГБ), Тип: DDR4, Частота: 3600 МГц, Латентность: CL18', 30, 'Оперативная память'),

        # Видеокарты
        ('NVIDIA GeForce RTX 4090', 'GeForce RTX 4090', 'Видеопамять: 24 ГБ GDDR6X, Базовая частота: 2.2 ГГц, Энергопотребление: 450 Вт', 10, 'Видеокарта'),
        ('AMD Radeon RX 7900 XTX', 'Radeon RX 7900 XTX', 'Видеопамять: 24 ГБ GDDR6, Базовая частота: 2.3 ГГц, Энергопотребление: 355 Вт', 8, 'Видеокарта'),
        ('ASUS ROG Strix GeForce RTX 4080', 'ROG-STRIX-RTX4080-16G-GAMING', 'Видеопамять: 16 ГБ GDDR6X, Базовая частота: 2.2 ГГц, Энергопотребление: 320 Вт', 15, 'Видеокарта'),
        ('Gigabyte GeForce RTX 4070 Ti', 'GV-N407TGAMING-12GD', 'Видеопамять: 12 ГБ GDDR6X, Базовая частота: 2.3 ГГц, Энергопотребление: 285 Вт', 25, 'Видеокарта'),
        ('MSI Radeon RX 6800 XT', 'RX 6800 XT GAMING X TRIO 16G', 'Видеопамять: 16 ГБ GDDR6, Базовая частота: 1.9 ГГц, Энергопотребление: 300 Вт', 20, 'Видеокарта'),

        # SSD накопители
        ('Samsung 990 PRO 2TB', 'MZ-V9P2T0B/AM', 'Объем: 2 ТБ, Интерфейс: PCIe 4.0 NVMe, Скорость чтения: до 7450 МБ/с, Скорость записи: до 6900 МБ/с', 30, 'Накопитель'),
        ('Western Digital WD_BLACK SN850X 1TB', 'WDS100T2X0E', 'Объем: 1 ТБ, Интерфейс: PCIe 4.0 NVMe, Скорость чтения: до 7300 МБ/с, Скорость записи: до 6600 МБ/с', 40, 'Накопитель'),
        ('Crucial P5 Plus 1TB', 'CT1000P5PSSD8', 'Объем: 1 ТБ, Интерфейс: PCIe 4.0 NVMe, Скорость чтения: до 6600 МБ/с, Скорость записи: до 4000 МБ/с', 35, 'Накопитель'),
        ('Seagate FireCuda 530 2TB', 'ZA2000GM3A002', 'Объем: 2 ТБ, Интерфейс: PCIe 4.0 NVMe, Скорость чтения: до 7300 МБ/с, Скорость записи: до 6900 МБ/с', 25, 'Накопитель'),
        ('Kingston KC3000 2TB', 'SKC3000D/2048G', 'Объем: 2 ТБ, Интерфейс: PCIe 4.0 NVMe, Скорость чтения: до 7000 МБ/с, Скорость записи: до 7000 МБ/с', 20, 'Накопитель'),

        # Блоки питания
        ('Corsair HX1000 Platinum', 'CP-9020137-EU', 'Мощность: 1000 Вт, Сертификат: 80 Plus Platinum, Модульный, КПД: 92%', 15, 'Блок питания'),
        ('be quiet! Dark Power Pro 12', 'BN311', 'Мощность: 1200 Вт, Сертификат: 80 Plus Titanium, Полностью модульный, КПД: 94%', 10, 'Блок питания'),
        ('EVGA SuperNOVA 850 G6', '220-G6-0850-X1', 'Мощность: 850 Вт, Сертификат: 80 Plus Gold, Полностью модульный, КПД: 90%', 25, 'Блок питания'),
        ('Seasonic PRIME TX-1000', '1SSR-1000TR', 'Мощность: 1000 Вт, Сертификат: 80 Plus Titanium, Полностью модульный, КПД: 94%', 12, 'Блок питания'),
        ('Thermaltake Toughpower GF3 850W', 'PS-TPD-0850FNFAGE-3', 'Мощность: 850 Вт, Сертификат: 80 Plus Gold, Полностью модульный, КПД: 90%', 20, 'Блок питания'),

        # Системы охлаждения
        ('Noctua NH-D15 chromax.black', 'NH-D15 CH.BK', 'Тип: Воздушное охлаждение, Совместимость: Intel/AMD, Количество вентиляторов: 2, Уровень шума: до 24.6 дБА', 30, 'Система охлаждения'),
        ('Arctic Freezer 34 eSports DUO', 'ACFRE00061A', 'Тип: Воздушное охлаждение, Совместимость: Intel/AMD, Количество вентиляторов: 2, Цветовая подсветка: RGB', 40, 'Система охлаждения'),
        ('Corsair H150i Elite Capellix', 'CW-9060048-WW', 'Тип: Жидкостное охлаждение, Размер радиатора: 360 мм, Количество вентиляторов: 3, Подсветка: RGB', 25, 'Система охлаждения'),
        ('be quiet! Dark Rock Pro 4', 'BK022', 'Тип: Воздушное охлаждение, Совместимость: Intel/AMD, Количество вентиляторов: 1, Уровень шума: до 24.3 дБА', 35, 'Система охлаждения'),
        ('NZXT Kraken Z73', 'RL-KRZ73-01', 'Тип: Жидкостное охлаждение, Размер радиатора: 360 мм, ЖК-дисплей, Подсветка: RGB', 20, 'Система охлаждения')
    ]

    # Вставка компонентов в базу данных
    c.executemany('''INSERT INTO components 
                     (name, model, characteristics, quantity, category) 
                     VALUES (?, ?, ?, ?, ?)''', components)

    conn.commit()
    conn.close()
    print("База данных компонентов инициализирована с 50 компонентами.")

if __name__ == '__main__':
    init_db()